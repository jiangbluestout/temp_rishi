/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/keen-slider/keen-slider.es.js":
/*!****************************************************!*\
  !*** ./node_modules/keen-slider/keen-slider.es.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ y; }
/* harmony export */ });
var n=function(){return n=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},n.apply(this,arguments)};function t(n,t,i){if(i||2===arguments.length)for(var e,r=0,a=t.length;r<a;r++)!e&&r in t||(e||(e=Array.prototype.slice.call(t,0,r)),e[r]=t[r]);return n.concat(e||Array.prototype.slice.call(t))}function i(n){return Array.prototype.slice.call(n)}function e(n,t){var i=Math.floor(n);return i===t||i+1===t?n:t}function r(){return Date.now()}function a(n,t,i){if(t="data-keen-slider-"+t,null===i)return n.removeAttribute(t);n.setAttribute(t,i||"")}function o(n,t){return t=t||document,"function"==typeof n&&(n=n(t)),Array.isArray(n)?n:"string"==typeof n?i(t.querySelectorAll(n)):n instanceof HTMLElement?[n]:n instanceof NodeList?i(n):[]}function u(n){n.raw&&(n=n.raw),n.cancelable&&!n.defaultPrevented&&n.preventDefault()}function s(n){n.raw&&(n=n.raw),n.stopPropagation&&n.stopPropagation()}function c(){var n=[];return{add:function(t,i,e,r){t.addListener?t.addListener(e):t.addEventListener(i,e,r),n.push([t,i,e,r])},input:function(n,t,i,e){this.add(n,t,function(n){return function(t){t.nativeEvent&&(t=t.nativeEvent);var i=t.changedTouches||[],e=t.targetTouches||[],r=t.detail&&t.detail.x?t.detail:null;return n({id:r?r.identifier?r.identifier:"i":e[0]?e[0]?e[0].identifier:"e":"d",idChanged:r?r.identifier?r.identifier:"i":i[0]?i[0]?i[0].identifier:"e":"d",raw:t,x:r&&r.x?r.x:e[0]?e[0].screenX:r?r.x:t.pageX,y:r&&r.y?r.y:e[0]?e[0].screenY:r?r.y:t.pageY})}}(i),e)},purge:function(){n.forEach((function(n){n[0].removeListener?n[0].removeListener(n[2]):n[0].removeEventListener(n[1],n[2],n[3])})),n=[]}}}function d(n,t,i){return Math.min(Math.max(n,t),i)}function l(n){return(n>0?1:0)-(n<0?1:0)||+n}function f(n){var t=n.getBoundingClientRect();return{height:e(t.height,n.offsetHeight),width:e(t.width,n.offsetWidth)}}function p(n,t,i,e){var r=n&&n[t];return null==r?i:e&&"function"==typeof r?r():r}function v(n){return Math.round(1e6*n)/1e6}function h(n){var t,i,e,r,a,o;function u(t){o||(o=t),s(!0);var a=t-o;a>e&&(a=e);var l=r[i];if(l[3]<a)return i++,u(t);var f=l[2],p=l[4],v=l[0],h=l[1]*(0,l[5])(0===p?1:(a-f)/p);if(h&&n.track.to(v+h),a<e)return d();o=null,s(!1),c(null),n.emit("animationEnded")}function s(n){t.active=n}function c(n){t.targetIdx=n}function d(){var n;n=u,a=window.requestAnimationFrame(n)}function l(){var t;t=a,window.cancelAnimationFrame(t),s(!1),c(null),o&&n.emit("animationStopped"),o=null}return t={active:!1,start:function(t){if(l(),n.track.details){var a=0,o=n.track.details.position;i=0,e=0,r=t.map((function(n){var t,i=Number(o),r=null!==(t=n.earlyExit)&&void 0!==t?t:n.duration,u=n.easing,s=n.distance*u(r/n.duration)||0;o+=s;var c=e;return e+=r,a+=s,[i,n.distance,c,e,n.duration,u]})),c(n.track.distToIdx(a)),d(),n.emit("animationStarted")}},stop:l,targetIdx:null}}function m(n){var i,e,a,o,u,s,c,f,h,m,g,b,x,k,y=1/0,w=[],M=null,T=0;function C(n){_(T+n)}function E(n){var t=z(T+n).abs;return D(t)?t:null}function z(n){var i=Math.floor(Math.abs(v(n/e))),r=v((n%e+e)%e);r===e&&(r=0);var a=l(n),o=c.indexOf(t([],c,!0).reduce((function(n,t){return Math.abs(t-r)<Math.abs(n-r)?t:n}))),u=o;return a<0&&i++,o===s&&(u=0,i+=a>0?1:-1),{abs:u+i*s*a,origin:o,rel:u}}function I(n,t,i){var e;if(t||!S())return A(n,i);if(!D(n))return null;var r=z(null!=i?i:T),a=r.abs,o=n-r.rel,u=a+o;e=A(u);var c=A(u-s*l(o));return(null!==c&&Math.abs(c)<Math.abs(e)||null===e)&&(e=c),v(e)}function A(n,t){if(null==t&&(t=v(T)),!D(n)||null===n)return null;n=Math.round(n);var i=z(t),r=i.abs,a=i.rel,o=i.origin,u=O(n),d=(t%e+e)%e,l=c[o],f=Math.floor((n-(r-a))/s)*e;return v(l-d-l+c[u]+f+(o===s?e:0))}function D(n){return L(n)===n}function L(n){return d(n,h,m)}function S(){return o.loop}function O(n){return(n%s+s)%s}function _(t){var i;i=t-T,w.push({distance:i,timestamp:r()}),w.length>6&&(w=w.slice(-6)),T=v(t);var e=H().abs;if(e!==M){var a=null!==M;M=e,a&&n.emit("slideChanged")}}function H(t){var r=t?null:function(){if(s){var n=S(),t=n?(T%e+e)%e:T,i=(n?T%e:T)-u[0][2],r=0-(i<0&&n?e-Math.abs(i):i),c=0,d=z(T),f=d.abs,p=d.rel,v=u[p][2],y=u.map((function(t,i){var a=r+c;(a<0-t[0]||a>1)&&(a+=(Math.abs(a)>e-1&&n?e:0)*l(-a));var u=i-p,d=l(u),h=u+f;n&&(-1===d&&a>v&&(h+=s),1===d&&a<v&&(h-=s),null!==g&&h<g&&(a+=e),null!==b&&h>b&&(a-=e));var m=a+t[0]+t[1],x=Math.max(a>=0&&m<=1?1:m<0||a>1?0:a<0?Math.min(1,(t[0]+a)/t[0]):(1-a)/t[0],0);return c+=t[0]+t[1],{abs:h,distance:o.rtl?-1*a+1-t[0]:a,portion:x,size:t[0]}}));return f=L(f),p=O(f),{abs:L(f),length:a,max:k,maxIdx:m,min:x,minIdx:h,position:T,progress:n?t/e:T/a,rel:p,slides:y,slidesLength:e}}}();return i.details=r,n.emit("detailsChanged"),r}return i={absToRel:O,add:C,details:null,distToIdx:E,idxToDist:I,init:function(t){if(function(){if(o=n.options,u=(o.trackConfig||[]).map((function(n){return[p(n,"size",1),p(n,"spacing",0),p(n,"origin",0)]})),s=u.length){e=v(u.reduce((function(n,t){return n+t[0]+t[1]}),0));var t,i=s-1;a=v(e+u[0][2]-u[i][0]-u[i][2]-u[i][1]),c=u.reduce((function(n,i){if(!n)return[0];var e=u[n.length-1],r=n[n.length-1]+(e[0]+e[2])+e[1];return r-=i[2],n[n.length-1]>r&&(r=n[n.length-1]),r=v(r),n.push(r),(!t||t<r)&&(f=n.length-1),t=r,n}),null),0===a&&(f=0),c.push(v(e))}}(),!s)return H(!0);var i;!function(){var t=n.options.range,i=n.options.loop;g=h=i?p(i,"min",-1/0):0,b=m=i?p(i,"max",y):f;var e=p(t,"min",null),r=p(t,"max",null);null!==e&&(h=e),null!==r&&(m=r),x=h===-1/0?h:n.track.idxToDist(h||0,!0,0),k=m===y?m:I(m,!0,0),null===r&&(b=m),p(t,"align",!1)&&m!==y&&0===u[O(m)][2]&&(k-=1-u[O(m)][0],m=E(k-T)),x=v(x),k=v(k)}(),i=t,Number(i)===i?C(A(L(t))):H()},to:_,velocity:function(){var n=r(),t=w.reduce((function(t,i){var e=i.distance,r=i.timestamp;return n-r>200||(l(e)!==l(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=e),t.lastTimestamp&&(t.time+=r-t.lastTimestamp),t.lastTimestamp=r),t}),{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}function g(n){var t,i,e,r,a,o,u,s;function c(n){return 2*n}function f(n){return d(n,u,s)}function p(n){return 1-Math.pow(1-n,3)}function v(){return e?n.track.velocity():0}function h(){b();var t="free-snap"===n.options.mode,i=n.track,e=v();r=l(e);var u=n.track.details,s=[];if(e||!t){var d=m(e),h=d.dist,g=d.dur;if(g=c(g),h*=r,t){var x=i.idxToDist(i.distToIdx(h),!0);x&&(h=x)}s.push({distance:h,duration:g,easing:p});var k=u.position,y=k+h;if(y<a||y>o){var w=y<a?a-k:o-k,M=0,T=e;if(l(w)===r){var C=Math.min(Math.abs(w)/Math.abs(h),1),E=function(n){return 1-Math.pow(1-n,1/3)}(C)*g;s[0].earlyExit=E,T=e*(1-C)}else s[0].earlyExit=0,M+=w;var z=m(T,100),I=z.dist*r;n.options.rubberband&&(s.push({distance:I,duration:c(z.dur),easing:p}),s.push({distance:-I+M,duration:500,easing:p}))}n.animator.start(s)}else n.moveToIdx(f(u.abs),!0,{duration:500,easing:function(n){return 1+--n*n*n*n*n}})}function m(n,t){void 0===t&&(t=1e3);var i=147e-9+(n=Math.abs(n))/t;return{dist:Math.pow(n,2)/i,dur:n/i}}function g(){var t=n.track.details;t&&(a=t.min,o=t.max,u=t.minIdx,s=t.maxIdx)}function b(){n.animator.stop()}n.on("updated",g),n.on("optionsChanged",g),n.on("created",g),n.on("dragStarted",(function(){e=!1,b(),t=i=n.track.details.abs})),n.on("dragChecked",(function(){e=!0})),n.on("dragEnded",(function(){var e=n.options.mode;"snap"===e&&function(){var e=n.track,r=n.track.details,u=r.position,s=l(v());(u>o||u<a)&&(s=0);var c=t+s;0===r.slides[e.absToRel(c)].portion&&(c-=s),t!==i&&(c=i),l(e.idxToDist(c,!0))!==s&&(c+=s),c=f(c);var d=e.idxToDist(c,!0);n.animator.start([{distance:d,duration:500,easing:function(n){return 1+--n*n*n*n*n}}])}(),"free"!==e&&"free-snap"!==e||h()})),n.on("dragged",(function(){i=n.track.details.abs}))}function b(n){var t,i,e,r,a,f,p,v,h,m,g,b,x,k,y,w,M,T,C=c();function E(t){if(f&&v===t.id){var o=D(t);if(h){if(!A(t))return I(t);m=o,h=!1,n.emit("dragChecked")}if(w)return m=o;u(t);var c=function(t){if(M===-1/0&&T===1/0)return t;var e=n.track.details,o=e.length,u=e.position,s=d(t,M-u,T-u);if(0===o)return 0;if(!n.options.rubberband)return s;if(u<=T&&u>=M)return t;if(u<M&&i>0||u>T&&i<0)return t;var c=(u<M?u-M:u-T)/o,l=r*o,f=Math.abs(c*l),p=Math.max(0,1-f/a*2);return p*p*t}(p(m-o)/r*e);i=l(c);var x=n.track.details.position;(x>M&&x<T||x===M&&i>0||x===T&&i<0)&&s(t),g+=c,!b&&Math.abs(g*r)>5&&(b=!0),n.track.add(c),m=o,n.emit("dragged")}}function z(t){!f&&n.track.details&&n.track.details.length&&(g=0,f=!0,b=!1,h=!0,v=t.id,A(t),m=D(t),n.emit("dragStarted"))}function I(t){f&&v===t.idChanged&&(f=!1,n.emit("dragEnded"))}function A(n){var t=L(),i=t?n.y:n.x,e=t?n.x:n.y,r=void 0!==x&&void 0!==k&&Math.abs(k-e)<=Math.abs(x-i);return x=i,k=e,r}function D(n){return L()?n.y:n.x}function L(){return n.options.vertical}function S(){r=n.size,a=L()?window.innerHeight:window.innerWidth;var t=n.track.details;t&&(M=t.min,T=t.max)}function O(n){b&&(s(n),u(n))}function _(){if(C.purge(),n.options.drag&&!n.options.disabled){var i;i=n.options.dragSpeed||1,p="function"==typeof i?i:function(n){return n*i},e=n.options.rtl?-1:1,S(),t=n.container,function(){var n="data-keen-slider-clickable";o("[".concat(n,"]:not([").concat(n,"=false])"),t).map((function(n){C.add(n,"dragstart",s),C.add(n,"mousedown",s),C.add(n,"touchstart",s)}))}(),C.add(t,"dragstart",(function(n){u(n)})),C.add(t,"click",O,{capture:!0}),C.input(t,"ksDragStart",z),C.input(t,"ksDrag",E),C.input(t,"ksDragEnd",I),C.input(t,"mousedown",z),C.input(t,"mousemove",E),C.input(t,"mouseleave",I),C.input(t,"mouseup",I),C.input(t,"touchstart",z,{passive:!0}),C.input(t,"touchmove",E,{passive:!1}),C.input(t,"touchend",I),C.input(t,"touchcancel",I),C.add(window,"wheel",(function(n){f&&u(n)}));var r="data-keen-slider-scrollable";o("[".concat(r,"]:not([").concat(r,"=false])"),n.container).map((function(n){return function(n){var t;C.input(n,"touchstart",(function(n){t=D(n),w=!0,y=!0}),{passive:!0}),C.input(n,"touchmove",(function(i){var e=L(),r=e?n.scrollHeight-n.clientHeight:n.scrollWidth-n.clientWidth,a=t-D(i),o=e?n.scrollTop:n.scrollLeft,s=e&&"scroll"===n.style.overflowY||!e&&"scroll"===n.style.overflowX;if(t=D(i),(a<0&&o>0||a>0&&o<r)&&y&&s)return w=!0;y=!1,u(i),w=!1})),C.input(n,"touchend",(function(){w=!1}))}(n)}))}}n.on("updated",S),n.on("optionsChanged",_),n.on("created",_),n.on("destroyed",C.purge)}function x(n){var t,i,e=null;function r(t,i,e){n.animator.active?o(t,i,e):requestAnimationFrame((function(){return o(t,i,e)}))}function a(){r(!1,!1,i)}function o(i,r,a){var o=0,u=n.size,d=n.track.details;if(d&&t){var l=d.slides;t.forEach((function(n,t){if(i)!e&&r&&s(n,null,a),c(n,null,a);else{if(!l[t])return;var d=l[t].size*u;!e&&r&&s(n,d,a),c(n,l[t].distance*u-o,a),o+=d}}))}}function u(t){return"performance"===n.options.renderMode?Math.round(t):t}function s(n,t,i){var e=i?"height":"width";null!==t&&(t=u(t)+"px"),n.style["min-"+e]=t,n.style["max-"+e]=t}function c(n,t,i){if(null!==t){t=u(t);var e=i?t:0;t="translate3d(".concat(i?0:t,"px, ").concat(e,"px, 0)")}n.style.transform=t,n.style["-webkit-transform"]=t}function d(){t&&(o(!0,!0,i),t=null),n.on("detailsChanged",a,!0)}function l(){r(!1,!0,i)}function f(){d(),i=n.options.vertical,n.options.disabled||"custom"===n.options.renderMode||(e="auto"===p(n.options.slides,"perView",null),n.on("detailsChanged",a),(t=n.slides).length&&l())}n.on("created",f),n.on("optionsChanged",f),n.on("beforeOptionsChanged",(function(){d()})),n.on("updated",l),n.on("destroyed",d)}function k(t,i){return function(e){var r,u,s,d,l,v,h=c();function m(n){var t;a(e.container,"reverse","rtl"!==(t=e.container,window.getComputedStyle(t,null).getPropertyValue("direction"))||n?null:""),a(e.container,"v",e.options.vertical&&!n?"":null),a(e.container,"disabled",e.options.disabled&&!n?"":null)}function g(){b()&&M()}function b(){var t=null;if(d.forEach((function(n){n.matches&&(t=n.__media)})),t===r)return!1;r||e.emit("beforeOptionsChanged"),r=t;var i=t?s.breakpoints[t]:s;return e.options=n(n({},s),i),m(),I(),A(),C(),!0}function x(n){var t=f(n);return(e.options.vertical?t.height:t.width)/e.size||1}function k(){return e.options.trackConfig.length}function y(t){for(var a in r=!1,s=n(n({},i),t),h.purge(),u=e.size,d=[],s.breakpoints||[]){var o=window.matchMedia(a);o.__media=a,d.push(o),h.add(o,"change",g)}h.add(window,"orientationchange",z),h.add(window,"resize",E),b()}function w(n){e.animator.stop();var t=e.track.details;e.track.init(null!=n?n:t?t.abs:0)}function M(n){w(n),e.emit("optionsChanged")}function T(n,t){if(n)return y(n),void M(t);I(),A();var i=k();C(),k()!==i?M(t):w(t),e.emit("updated")}function C(){var n=e.options.slides;if("function"==typeof n)return e.options.trackConfig=n(e.size,e.slides);for(var t=e.slides,i=t.length,r="number"==typeof n?n:p(n,"number",i,!0),a=[],o=p(n,"perView",1,!0),u=p(n,"spacing",0,!0)/e.size||0,s="auto"===o?u:u/o,c=p(n,"origin","auto"),d=0,l=0;l<r;l++){var f="auto"===o?x(t[l]):1/o-u+s,v="center"===c?.5-f/2:"auto"===c?0:c;a.push({origin:v,size:f,spacing:u}),d+=f}if(d+=u*(r-1),"auto"===c&&!e.options.loop&&1!==o){var h=0;a.map((function(n){var t=d-h;return h+=n.size+u,t>=1||(n.origin=1-t-(d>1?0:1-d)),n}))}e.options.trackConfig=a}function E(){I();var n=e.size;e.options.disabled||n===u||(u=n,T())}function z(){E(),setTimeout(E,500),setTimeout(E,2e3)}function I(){var n=f(e.container);e.size=(e.options.vertical?n.height:n.width)||1}function A(){e.slides=o(e.options.selector,e.container)}e.container=(v=o(t,l||document)).length?v[0]:null,e.destroy=function(){h.purge(),e.emit("destroyed"),m(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=T,y(e.options)}}var y=function(n,i,e){try{return function(n,t){var i,e={};return i={emit:function(n){e[n]&&e[n].forEach((function(n){n(i)}));var t=i.options&&i.options[n];t&&t(i)},moveToIdx:function(n,t,e){var r=i.track.idxToDist(n,t);if(r){var a=i.options.defaultAnimation;i.animator.start([{distance:r,duration:p(e||a,"duration",500),easing:p(e||a,"easing",(function(n){return 1+--n*n*n*n*n}))}])}},on:function(n,t,i){void 0===i&&(i=!1),e[n]||(e[n]=[]);var r=e[n].indexOf(t);r>-1?i&&delete e[n][r]:i||e[n].push(t)},options:n},function(){if(i.track=m(i),i.animator=h(i),t)for(var n=0,e=t;n<e.length;n++)(0,e[n])(i);i.track.init(i.options.initial||0),i.emit("created")}(),i}(i,t([k(n,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),x,b,g],e||[],!0))}catch(n){console.error(n)}};


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
!function() {
/*!*************************************************!*\
  !*** ./src/scripts/components/button-slider.js ***!
  \*************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var keen_slider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! keen-slider */ "./node_modules/keen-slider/keen-slider.es.js");

class ButtonSlider extends HTMLElement {
  constructor() {
    super();
    this.init();
  }
  init() {
    this.slidesContainer = this.querySelector(".keen-slider");
    this.slides = this.querySelectorAll(".keen-slider__slide");
    const options = JSON.parse(this.getAttribute("data-slider-options"));
    const buttonId = this.getAttribute("data-button-id");
    const useIndexButtons = this.slidesContainer.getAttribute("data-use-index-btns");

    // get left, right nav buttons and add click events to them
    const navButtons = this.querySelectorAll(".slider-btn");
    if (navButtons.length > 0) {
      navButtons[0].addEventListener("click", () => slider.prev());
      navButtons[1].addEventListener("click", () => slider.next());
    }

    // get dots and add click events to them
    let dots = this.querySelectorAll(".dot");
    const handleDotClick = index => () => {
      slider.moveToIdx(index, true);
      dots.forEach(dot => dot.classList.remove("active"));
      dots[index].classList.add("active");
    };
    if (dots.length > 0) {
      dots.forEach((dot, index) => {
        dot.addEventListener("click", handleDotClick(index));
        dots[0].classList.add("active");
      });
    }

    // get buttons that update slider slides and add events to them
    const handleClick = () => {
      setTimeout(() => slider.update(options, 0), 0);
      let dots = this.querySelectorAll(".dot");
      if (dots.length === 0) return;
      dots = this.querySelectorAll(".dot");
      dots.forEach((dot, index) => {
        dot.addEventListener("click", handleDotClick(index));
        dots[0].classList.add("active");
      });
    };
    let buttons;
    if (buttonId) {
      buttons = document.querySelectorAll(`.${buttonId}`);
    } else {
      buttons = this.querySelectorAll(".button__tab");
    }
    buttons.forEach(button => button.addEventListener("click", handleClick));
    buttons.forEach(button => button.addEventListener("focus", handleClick));
    if (useIndexButtons === "true") {
      // get index buttons and move the active slide to that index
      const handleIndexButtonClick = index => () => {
        slider.moveToIdx(index, true);
      };
      const indexButtons = document.querySelectorAll(".index-btn");
      if (indexButtons.length > 0) {
        indexButtons.forEach((button, index) => {
          button.addEventListener("click", handleIndexButtonClick(index));
        });
      }
    }

    // get slide count elements and update them on events
    const slideCurrent = this.querySelector(".slide-current");
    const slideTotal = this.querySelector(".slide-total");
    const slider = new keen_slider__WEBPACK_IMPORTED_MODULE_0__["default"](this.slidesContainer, options);
    slider.on("updated", () => {
      this.slides.forEach(slide => {
        if (slideCurrent) {
          slideCurrent.textContent = slider.track.details.rel + 1;
        }
        if (slideTotal) {
          slideTotal.textContent = slider.track.details.slides.length;
        }
        const index = parseInt(slide.getAttribute("data-active-slide"));
        if (index) {
          slider.moveToIdx(index, true);
        }
      });
    });
    // update dot classes on events
    slider.on("optionsChanged", () => {
      dots = this.querySelectorAll(".dot");
      if (dots.length === 0) return;
      dots.forEach((dot, index) => {
        dot.addEventListener("click", handleDotClick(index));
        dots[0].classList.add("active");
      });
    });
    slider.on("slideChanged", () => {
      if (slideCurrent) {
        slideCurrent.textContent = slider.track.details.rel + 1;
      }
      if (slideTotal) {
        slideTotal.textContent = slider.track.details.slides.length;
      }
      if (dots.length === 0) return;
      dots.forEach(dot => dot.classList.remove("active"));
      dots[slider.track.details.rel].classList.add("active");
    });
    setTimeout(() => {
      if (slider) {
        slider.update();
      }
    }, 0);
  }
}

/*
  Register the element.
  Set timeout allows us to grab the dynamic classes added by Alpine
  after they have been added to the DOM.
*/
setTimeout(() => {
  if (!customElements.get("button-slider")) customElements.define("button-slider", ButtonSlider);
}, 0);
}();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O01BQ0EsSUFBSUssSUFBSSxDQUFDTCxNQUFNLEtBQUssQ0FBQyxFQUFFO01BQ3ZCSyxJQUFJLENBQUNJLE9BQU8sQ0FBRUMsR0FBRyxJQUFLQSxHQUFHLENBQUNDLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO01BQ3JEUCxJQUFJLENBQUNILE1BQU0sQ0FBQ3lCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQ2xCLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUN4RCxDQUFDLENBQUM7SUFFRkUsVUFBVSxDQUFDLE1BQU07TUFDZixJQUFJYixNQUFNLEVBQUU7UUFDVkEsTUFBTSxDQUFDYyxNQUFNLENBQUMsQ0FBQztNQUNqQjtJQUNGLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDUDtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUQsVUFBVSxDQUFDLE1BQU07RUFDZixJQUFJLENBQUNnQixjQUFjLENBQUNDLEdBQUcsQ0FBQyxlQUFlLENBQUMsRUFDdENELGNBQWMsQ0FBQ0UsTUFBTSxDQUFDLGVBQWUsRUFBRWhELFlBQVksQ0FBQztBQUN4RCxDQUFDLEVBQUUsQ0FBQyxDQUFDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZi1zaG9waWZ5LW9zMi8uL25vZGVfbW9kdWxlcy9rZWVuLXNsaWRlci9rZWVuLXNsaWRlci5lcy5qcyIsIndlYnBhY2s6Ly9iZi1zaG9waWZ5LW9zMi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iZi1zaG9waWZ5LW9zMi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmYtc2hvcGlmeS1vczIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iZi1zaG9waWZ5LW9zMi93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2JmLXNob3BpZnktb3MyLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9idXR0b24tc2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBuPWZ1bmN0aW9uKCl7cmV0dXJuIG49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9MSxlPWFyZ3VtZW50cy5sZW5ndGg7aTxlO2krKylmb3IodmFyIHIgaW4gdD1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihuW3JdPXRbcl0pO3JldHVybiBufSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gdChuLHQsaSl7aWYoaXx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlLHI9MCxhPXQubGVuZ3RoO3I8YTtyKyspIWUmJnIgaW4gdHx8KGV8fChlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxyKSksZVtyXT10W3JdKTtyZXR1cm4gbi5jb25jYXQoZXx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfWZ1bmN0aW9uIGkobil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pfWZ1bmN0aW9uIGUobix0KXt2YXIgaT1NYXRoLmZsb29yKG4pO3JldHVybiBpPT09dHx8aSsxPT09dD9uOnR9ZnVuY3Rpb24gcigpe3JldHVybiBEYXRlLm5vdygpfWZ1bmN0aW9uIGEobix0LGkpe2lmKHQ9XCJkYXRhLWtlZW4tc2xpZGVyLVwiK3QsbnVsbD09PWkpcmV0dXJuIG4ucmVtb3ZlQXR0cmlidXRlKHQpO24uc2V0QXR0cmlidXRlKHQsaXx8XCJcIil9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiB0PXR8fGRvY3VtZW50LFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4odCkpLEFycmF5LmlzQXJyYXkobik/bjpcInN0cmluZ1wiPT10eXBlb2Ygbj9pKHQucXVlcnlTZWxlY3RvckFsbChuKSk6biBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P1tuXTpuIGluc3RhbmNlb2YgTm9kZUxpc3Q/aShuKTpbXX1mdW5jdGlvbiB1KG4pe24ucmF3JiYobj1uLnJhdyksbi5jYW5jZWxhYmxlJiYhbi5kZWZhdWx0UHJldmVudGVkJiZuLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gcyhuKXtuLnJhdyYmKG49bi5yYXcpLG4uc3RvcFByb3BhZ2F0aW9uJiZuLnN0b3BQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIGMoKXt2YXIgbj1bXTtyZXR1cm57YWRkOmZ1bmN0aW9uKHQsaSxlLHIpe3QuYWRkTGlzdGVuZXI/dC5hZGRMaXN0ZW5lcihlKTp0LmFkZEV2ZW50TGlzdGVuZXIoaSxlLHIpLG4ucHVzaChbdCxpLGUscl0pfSxpbnB1dDpmdW5jdGlvbihuLHQsaSxlKXt0aGlzLmFkZChuLHQsZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3QubmF0aXZlRXZlbnQmJih0PXQubmF0aXZlRXZlbnQpO3ZhciBpPXQuY2hhbmdlZFRvdWNoZXN8fFtdLGU9dC50YXJnZXRUb3VjaGVzfHxbXSxyPXQuZGV0YWlsJiZ0LmRldGFpbC54P3QuZGV0YWlsOm51bGw7cmV0dXJuIG4oe2lkOnI/ci5pZGVudGlmaWVyP3IuaWRlbnRpZmllcjpcImlcIjplWzBdP2VbMF0/ZVswXS5pZGVudGlmaWVyOlwiZVwiOlwiZFwiLGlkQ2hhbmdlZDpyP3IuaWRlbnRpZmllcj9yLmlkZW50aWZpZXI6XCJpXCI6aVswXT9pWzBdP2lbMF0uaWRlbnRpZmllcjpcImVcIjpcImRcIixyYXc6dCx4OnImJnIueD9yLng6ZVswXT9lWzBdLnNjcmVlblg6cj9yLng6dC5wYWdlWCx5OnImJnIueT9yLnk6ZVswXT9lWzBdLnNjcmVlblk6cj9yLnk6dC5wYWdlWX0pfX0oaSksZSl9LHB1cmdlOmZ1bmN0aW9uKCl7bi5mb3JFYWNoKChmdW5jdGlvbihuKXtuWzBdLnJlbW92ZUxpc3RlbmVyP25bMF0ucmVtb3ZlTGlzdGVuZXIoblsyXSk6blswXS5yZW1vdmVFdmVudExpc3RlbmVyKG5bMV0sblsyXSxuWzNdKX0pKSxuPVtdfX19ZnVuY3Rpb24gZChuLHQsaSl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sdCksaSl9ZnVuY3Rpb24gbChuKXtyZXR1cm4obj4wPzE6MCktKG48MD8xOjApfHwrbn1mdW5jdGlvbiBmKG4pe3ZhciB0PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2hlaWdodDplKHQuaGVpZ2h0LG4ub2Zmc2V0SGVpZ2h0KSx3aWR0aDplKHQud2lkdGgsbi5vZmZzZXRXaWR0aCl9fWZ1bmN0aW9uIHAobix0LGksZSl7dmFyIHI9biYmblt0XTtyZXR1cm4gbnVsbD09cj9pOmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cigpOnJ9ZnVuY3Rpb24gdihuKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTYqbikvMWU2fWZ1bmN0aW9uIGgobil7dmFyIHQsaSxlLHIsYSxvO2Z1bmN0aW9uIHUodCl7b3x8KG89dCkscyghMCk7dmFyIGE9dC1vO2E+ZSYmKGE9ZSk7dmFyIGw9cltpXTtpZihsWzNdPGEpcmV0dXJuIGkrKyx1KHQpO3ZhciBmPWxbMl0scD1sWzRdLHY9bFswXSxoPWxbMV0qKDAsbFs1XSkoMD09PXA/MTooYS1mKS9wKTtpZihoJiZuLnRyYWNrLnRvKHYraCksYTxlKXJldHVybiBkKCk7bz1udWxsLHMoITEpLGMobnVsbCksbi5lbWl0KFwiYW5pbWF0aW9uRW5kZWRcIil9ZnVuY3Rpb24gcyhuKXt0LmFjdGl2ZT1ufWZ1bmN0aW9uIGMobil7dC50YXJnZXRJZHg9bn1mdW5jdGlvbiBkKCl7dmFyIG47bj11LGE9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShuKX1mdW5jdGlvbiBsKCl7dmFyIHQ7dD1hLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0KSxzKCExKSxjKG51bGwpLG8mJm4uZW1pdChcImFuaW1hdGlvblN0b3BwZWRcIiksbz1udWxsfXJldHVybiB0PXthY3RpdmU6ITEsc3RhcnQ6ZnVuY3Rpb24odCl7aWYobCgpLG4udHJhY2suZGV0YWlscyl7dmFyIGE9MCxvPW4udHJhY2suZGV0YWlscy5wb3NpdGlvbjtpPTAsZT0wLHI9dC5tYXAoKGZ1bmN0aW9uKG4pe3ZhciB0LGk9TnVtYmVyKG8pLHI9bnVsbCE9PSh0PW4uZWFybHlFeGl0KSYmdm9pZCAwIT09dD90Om4uZHVyYXRpb24sdT1uLmVhc2luZyxzPW4uZGlzdGFuY2UqdShyL24uZHVyYXRpb24pfHwwO28rPXM7dmFyIGM9ZTtyZXR1cm4gZSs9cixhKz1zLFtpLG4uZGlzdGFuY2UsYyxlLG4uZHVyYXRpb24sdV19KSksYyhuLnRyYWNrLmRpc3RUb0lkeChhKSksZCgpLG4uZW1pdChcImFuaW1hdGlvblN0YXJ0ZWRcIil9fSxzdG9wOmwsdGFyZ2V0SWR4Om51bGx9fWZ1bmN0aW9uIG0obil7dmFyIGksZSxhLG8sdSxzLGMsZixoLG0sZyxiLHgsayx5PTEvMCx3PVtdLE09bnVsbCxUPTA7ZnVuY3Rpb24gQyhuKXtfKFQrbil9ZnVuY3Rpb24gRShuKXt2YXIgdD16KFQrbikuYWJzO3JldHVybiBEKHQpP3Q6bnVsbH1mdW5jdGlvbiB6KG4pe3ZhciBpPU1hdGguZmxvb3IoTWF0aC5hYnModihuL2UpKSkscj12KChuJWUrZSklZSk7cj09PWUmJihyPTApO3ZhciBhPWwobiksbz1jLmluZGV4T2YodChbXSxjLCEwKS5yZWR1Y2UoKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIE1hdGguYWJzKHQtcik8TWF0aC5hYnMobi1yKT90Om59KSkpLHU9bztyZXR1cm4gYTwwJiZpKyssbz09PXMmJih1PTAsaSs9YT4wPzE6LTEpLHthYnM6dStpKnMqYSxvcmlnaW46byxyZWw6dX19ZnVuY3Rpb24gSShuLHQsaSl7dmFyIGU7aWYodHx8IVMoKSlyZXR1cm4gQShuLGkpO2lmKCFEKG4pKXJldHVybiBudWxsO3ZhciByPXoobnVsbCE9aT9pOlQpLGE9ci5hYnMsbz1uLXIucmVsLHU9YStvO2U9QSh1KTt2YXIgYz1BKHUtcypsKG8pKTtyZXR1cm4obnVsbCE9PWMmJk1hdGguYWJzKGMpPE1hdGguYWJzKGUpfHxudWxsPT09ZSkmJihlPWMpLHYoZSl9ZnVuY3Rpb24gQShuLHQpe2lmKG51bGw9PXQmJih0PXYoVCkpLCFEKG4pfHxudWxsPT09bilyZXR1cm4gbnVsbDtuPU1hdGgucm91bmQobik7dmFyIGk9eih0KSxyPWkuYWJzLGE9aS5yZWwsbz1pLm9yaWdpbix1PU8obiksZD0odCVlK2UpJWUsbD1jW29dLGY9TWF0aC5mbG9vcigobi0oci1hKSkvcykqZTtyZXR1cm4gdihsLWQtbCtjW3VdK2YrKG89PT1zP2U6MCkpfWZ1bmN0aW9uIEQobil7cmV0dXJuIEwobik9PT1ufWZ1bmN0aW9uIEwobil7cmV0dXJuIGQobixoLG0pfWZ1bmN0aW9uIFMoKXtyZXR1cm4gby5sb29wfWZ1bmN0aW9uIE8obil7cmV0dXJuKG4lcytzKSVzfWZ1bmN0aW9uIF8odCl7dmFyIGk7aT10LVQsdy5wdXNoKHtkaXN0YW5jZTppLHRpbWVzdGFtcDpyKCl9KSx3Lmxlbmd0aD42JiYodz13LnNsaWNlKC02KSksVD12KHQpO3ZhciBlPUgoKS5hYnM7aWYoZSE9PU0pe3ZhciBhPW51bGwhPT1NO009ZSxhJiZuLmVtaXQoXCJzbGlkZUNoYW5nZWRcIil9fWZ1bmN0aW9uIEgodCl7dmFyIHI9dD9udWxsOmZ1bmN0aW9uKCl7aWYocyl7dmFyIG49UygpLHQ9bj8oVCVlK2UpJWU6VCxpPShuP1QlZTpUKS11WzBdWzJdLHI9MC0oaTwwJiZuP2UtTWF0aC5hYnMoaSk6aSksYz0wLGQ9eihUKSxmPWQuYWJzLHA9ZC5yZWwsdj11W3BdWzJdLHk9dS5tYXAoKGZ1bmN0aW9uKHQsaSl7dmFyIGE9citjOyhhPDAtdFswXXx8YT4xKSYmKGErPShNYXRoLmFicyhhKT5lLTEmJm4/ZTowKSpsKC1hKSk7dmFyIHU9aS1wLGQ9bCh1KSxoPXUrZjtuJiYoLTE9PT1kJiZhPnYmJihoKz1zKSwxPT09ZCYmYTx2JiYoaC09cyksbnVsbCE9PWcmJmg8ZyYmKGErPWUpLG51bGwhPT1iJiZoPmImJihhLT1lKSk7dmFyIG09YSt0WzBdK3RbMV0seD1NYXRoLm1heChhPj0wJiZtPD0xPzE6bTwwfHxhPjE/MDphPDA/TWF0aC5taW4oMSwodFswXSthKS90WzBdKTooMS1hKS90WzBdLDApO3JldHVybiBjKz10WzBdK3RbMV0se2FiczpoLGRpc3RhbmNlOm8ucnRsPy0xKmErMS10WzBdOmEscG9ydGlvbjp4LHNpemU6dFswXX19KSk7cmV0dXJuIGY9TChmKSxwPU8oZikse2FiczpMKGYpLGxlbmd0aDphLG1heDprLG1heElkeDptLG1pbjp4LG1pbklkeDpoLHBvc2l0aW9uOlQscHJvZ3Jlc3M6bj90L2U6VC9hLHJlbDpwLHNsaWRlczp5LHNsaWRlc0xlbmd0aDplfX19KCk7cmV0dXJuIGkuZGV0YWlscz1yLG4uZW1pdChcImRldGFpbHNDaGFuZ2VkXCIpLHJ9cmV0dXJuIGk9e2Fic1RvUmVsOk8sYWRkOkMsZGV0YWlsczpudWxsLGRpc3RUb0lkeDpFLGlkeFRvRGlzdDpJLGluaXQ6ZnVuY3Rpb24odCl7aWYoZnVuY3Rpb24oKXtpZihvPW4ub3B0aW9ucyx1PShvLnRyYWNrQ29uZmlnfHxbXSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm5bcChuLFwic2l6ZVwiLDEpLHAobixcInNwYWNpbmdcIiwwKSxwKG4sXCJvcmlnaW5cIiwwKV19KSkscz11Lmxlbmd0aCl7ZT12KHUucmVkdWNlKChmdW5jdGlvbihuLHQpe3JldHVybiBuK3RbMF0rdFsxXX0pLDApKTt2YXIgdCxpPXMtMTthPXYoZSt1WzBdWzJdLXVbaV1bMF0tdVtpXVsyXS11W2ldWzFdKSxjPXUucmVkdWNlKChmdW5jdGlvbihuLGkpe2lmKCFuKXJldHVyblswXTt2YXIgZT11W24ubGVuZ3RoLTFdLHI9bltuLmxlbmd0aC0xXSsoZVswXStlWzJdKStlWzFdO3JldHVybiByLT1pWzJdLG5bbi5sZW5ndGgtMV0+ciYmKHI9bltuLmxlbmd0aC0xXSkscj12KHIpLG4ucHVzaChyKSwoIXR8fHQ8cikmJihmPW4ubGVuZ3RoLTEpLHQ9cixufSksbnVsbCksMD09PWEmJihmPTApLGMucHVzaCh2KGUpKX19KCksIXMpcmV0dXJuIEgoITApO3ZhciBpOyFmdW5jdGlvbigpe3ZhciB0PW4ub3B0aW9ucy5yYW5nZSxpPW4ub3B0aW9ucy5sb29wO2c9aD1pP3AoaSxcIm1pblwiLC0xLzApOjAsYj1tPWk/cChpLFwibWF4XCIseSk6Zjt2YXIgZT1wKHQsXCJtaW5cIixudWxsKSxyPXAodCxcIm1heFwiLG51bGwpO251bGwhPT1lJiYoaD1lKSxudWxsIT09ciYmKG09cikseD1oPT09LTEvMD9oOm4udHJhY2suaWR4VG9EaXN0KGh8fDAsITAsMCksaz1tPT09eT9tOkkobSwhMCwwKSxudWxsPT09ciYmKGI9bSkscCh0LFwiYWxpZ25cIiwhMSkmJm0hPT15JiYwPT09dVtPKG0pXVsyXSYmKGstPTEtdVtPKG0pXVswXSxtPUUoay1UKSkseD12KHgpLGs9dihrKX0oKSxpPXQsTnVtYmVyKGkpPT09aT9DKEEoTCh0KSkpOkgoKX0sdG86Xyx2ZWxvY2l0eTpmdW5jdGlvbigpe3ZhciBuPXIoKSx0PXcucmVkdWNlKChmdW5jdGlvbih0LGkpe3ZhciBlPWkuZGlzdGFuY2Uscj1pLnRpbWVzdGFtcDtyZXR1cm4gbi1yPjIwMHx8KGwoZSkhPT1sKHQuZGlzdGFuY2UpJiZ0LmRpc3RhbmNlJiYodD17ZGlzdGFuY2U6MCxsYXN0VGltZXN0YW1wOjAsdGltZTowfSksdC50aW1lJiYodC5kaXN0YW5jZSs9ZSksdC5sYXN0VGltZXN0YW1wJiYodC50aW1lKz1yLXQubGFzdFRpbWVzdGFtcCksdC5sYXN0VGltZXN0YW1wPXIpLHR9KSx7ZGlzdGFuY2U6MCxsYXN0VGltZXN0YW1wOjAsdGltZTowfSk7cmV0dXJuIHQuZGlzdGFuY2UvdC50aW1lfHwwfX19ZnVuY3Rpb24gZyhuKXt2YXIgdCxpLGUscixhLG8sdSxzO2Z1bmN0aW9uIGMobil7cmV0dXJuIDIqbn1mdW5jdGlvbiBmKG4pe3JldHVybiBkKG4sdSxzKX1mdW5jdGlvbiBwKG4pe3JldHVybiAxLU1hdGgucG93KDEtbiwzKX1mdW5jdGlvbiB2KCl7cmV0dXJuIGU/bi50cmFjay52ZWxvY2l0eSgpOjB9ZnVuY3Rpb24gaCgpe2IoKTt2YXIgdD1cImZyZWUtc25hcFwiPT09bi5vcHRpb25zLm1vZGUsaT1uLnRyYWNrLGU9digpO3I9bChlKTt2YXIgdT1uLnRyYWNrLmRldGFpbHMscz1bXTtpZihlfHwhdCl7dmFyIGQ9bShlKSxoPWQuZGlzdCxnPWQuZHVyO2lmKGc9YyhnKSxoKj1yLHQpe3ZhciB4PWkuaWR4VG9EaXN0KGkuZGlzdFRvSWR4KGgpLCEwKTt4JiYoaD14KX1zLnB1c2goe2Rpc3RhbmNlOmgsZHVyYXRpb246ZyxlYXNpbmc6cH0pO3ZhciBrPXUucG9zaXRpb24seT1rK2g7aWYoeTxhfHx5Pm8pe3ZhciB3PXk8YT9hLWs6by1rLE09MCxUPWU7aWYobCh3KT09PXIpe3ZhciBDPU1hdGgubWluKE1hdGguYWJzKHcpL01hdGguYWJzKGgpLDEpLEU9ZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5wb3coMS1uLDEvMyl9KEMpKmc7c1swXS5lYXJseUV4aXQ9RSxUPWUqKDEtQyl9ZWxzZSBzWzBdLmVhcmx5RXhpdD0wLE0rPXc7dmFyIHo9bShULDEwMCksST16LmRpc3QqcjtuLm9wdGlvbnMucnViYmVyYmFuZCYmKHMucHVzaCh7ZGlzdGFuY2U6SSxkdXJhdGlvbjpjKHouZHVyKSxlYXNpbmc6cH0pLHMucHVzaCh7ZGlzdGFuY2U6LUkrTSxkdXJhdGlvbjo1MDAsZWFzaW5nOnB9KSl9bi5hbmltYXRvci5zdGFydChzKX1lbHNlIG4ubW92ZVRvSWR4KGYodS5hYnMpLCEwLHtkdXJhdGlvbjo1MDAsZWFzaW5nOmZ1bmN0aW9uKG4pe3JldHVybiAxKy0tbipuKm4qbipufX0pfWZ1bmN0aW9uIG0obix0KXt2b2lkIDA9PT10JiYodD0xZTMpO3ZhciBpPTE0N2UtOSsobj1NYXRoLmFicyhuKSkvdDtyZXR1cm57ZGlzdDpNYXRoLnBvdyhuLDIpL2ksZHVyOm4vaX19ZnVuY3Rpb24gZygpe3ZhciB0PW4udHJhY2suZGV0YWlsczt0JiYoYT10Lm1pbixvPXQubWF4LHU9dC5taW5JZHgscz10Lm1heElkeCl9ZnVuY3Rpb24gYigpe24uYW5pbWF0b3Iuc3RvcCgpfW4ub24oXCJ1cGRhdGVkXCIsZyksbi5vbihcIm9wdGlvbnNDaGFuZ2VkXCIsZyksbi5vbihcImNyZWF0ZWRcIixnKSxuLm9uKFwiZHJhZ1N0YXJ0ZWRcIiwoZnVuY3Rpb24oKXtlPSExLGIoKSx0PWk9bi50cmFjay5kZXRhaWxzLmFic30pKSxuLm9uKFwiZHJhZ0NoZWNrZWRcIiwoZnVuY3Rpb24oKXtlPSEwfSkpLG4ub24oXCJkcmFnRW5kZWRcIiwoZnVuY3Rpb24oKXt2YXIgZT1uLm9wdGlvbnMubW9kZTtcInNuYXBcIj09PWUmJmZ1bmN0aW9uKCl7dmFyIGU9bi50cmFjayxyPW4udHJhY2suZGV0YWlscyx1PXIucG9zaXRpb24scz1sKHYoKSk7KHU+b3x8dTxhKSYmKHM9MCk7dmFyIGM9dCtzOzA9PT1yLnNsaWRlc1tlLmFic1RvUmVsKGMpXS5wb3J0aW9uJiYoYy09cyksdCE9PWkmJihjPWkpLGwoZS5pZHhUb0Rpc3QoYywhMCkpIT09cyYmKGMrPXMpLGM9ZihjKTt2YXIgZD1lLmlkeFRvRGlzdChjLCEwKTtuLmFuaW1hdG9yLnN0YXJ0KFt7ZGlzdGFuY2U6ZCxkdXJhdGlvbjo1MDAsZWFzaW5nOmZ1bmN0aW9uKG4pe3JldHVybiAxKy0tbipuKm4qbipufX1dKX0oKSxcImZyZWVcIiE9PWUmJlwiZnJlZS1zbmFwXCIhPT1lfHxoKCl9KSksbi5vbihcImRyYWdnZWRcIiwoZnVuY3Rpb24oKXtpPW4udHJhY2suZGV0YWlscy5hYnN9KSl9ZnVuY3Rpb24gYihuKXt2YXIgdCxpLGUscixhLGYscCx2LGgsbSxnLGIseCxrLHksdyxNLFQsQz1jKCk7ZnVuY3Rpb24gRSh0KXtpZihmJiZ2PT09dC5pZCl7dmFyIG89RCh0KTtpZihoKXtpZighQSh0KSlyZXR1cm4gSSh0KTttPW8saD0hMSxuLmVtaXQoXCJkcmFnQ2hlY2tlZFwiKX1pZih3KXJldHVybiBtPW87dSh0KTt2YXIgYz1mdW5jdGlvbih0KXtpZihNPT09LTEvMCYmVD09PTEvMClyZXR1cm4gdDt2YXIgZT1uLnRyYWNrLmRldGFpbHMsbz1lLmxlbmd0aCx1PWUucG9zaXRpb24scz1kKHQsTS11LFQtdSk7aWYoMD09PW8pcmV0dXJuIDA7aWYoIW4ub3B0aW9ucy5ydWJiZXJiYW5kKXJldHVybiBzO2lmKHU8PVQmJnU+PU0pcmV0dXJuIHQ7aWYodTxNJiZpPjB8fHU+VCYmaTwwKXJldHVybiB0O3ZhciBjPSh1PE0/dS1NOnUtVCkvbyxsPXIqbyxmPU1hdGguYWJzKGMqbCkscD1NYXRoLm1heCgwLDEtZi9hKjIpO3JldHVybiBwKnAqdH0ocChtLW8pL3IqZSk7aT1sKGMpO3ZhciB4PW4udHJhY2suZGV0YWlscy5wb3NpdGlvbjsoeD5NJiZ4PFR8fHg9PT1NJiZpPjB8fHg9PT1UJiZpPDApJiZzKHQpLGcrPWMsIWImJk1hdGguYWJzKGcqcik+NSYmKGI9ITApLG4udHJhY2suYWRkKGMpLG09byxuLmVtaXQoXCJkcmFnZ2VkXCIpfX1mdW5jdGlvbiB6KHQpeyFmJiZuLnRyYWNrLmRldGFpbHMmJm4udHJhY2suZGV0YWlscy5sZW5ndGgmJihnPTAsZj0hMCxiPSExLGg9ITAsdj10LmlkLEEodCksbT1EKHQpLG4uZW1pdChcImRyYWdTdGFydGVkXCIpKX1mdW5jdGlvbiBJKHQpe2YmJnY9PT10LmlkQ2hhbmdlZCYmKGY9ITEsbi5lbWl0KFwiZHJhZ0VuZGVkXCIpKX1mdW5jdGlvbiBBKG4pe3ZhciB0PUwoKSxpPXQ/bi55Om4ueCxlPXQ/bi54Om4ueSxyPXZvaWQgMCE9PXgmJnZvaWQgMCE9PWsmJk1hdGguYWJzKGstZSk8PU1hdGguYWJzKHgtaSk7cmV0dXJuIHg9aSxrPWUscn1mdW5jdGlvbiBEKG4pe3JldHVybiBMKCk/bi55Om4ueH1mdW5jdGlvbiBMKCl7cmV0dXJuIG4ub3B0aW9ucy52ZXJ0aWNhbH1mdW5jdGlvbiBTKCl7cj1uLnNpemUsYT1MKCk/d2luZG93LmlubmVySGVpZ2h0OndpbmRvdy5pbm5lcldpZHRoO3ZhciB0PW4udHJhY2suZGV0YWlsczt0JiYoTT10Lm1pbixUPXQubWF4KX1mdW5jdGlvbiBPKG4pe2ImJihzKG4pLHUobikpfWZ1bmN0aW9uIF8oKXtpZihDLnB1cmdlKCksbi5vcHRpb25zLmRyYWcmJiFuLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBpO2k9bi5vcHRpb25zLmRyYWdTcGVlZHx8MSxwPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aTpmdW5jdGlvbihuKXtyZXR1cm4gbippfSxlPW4ub3B0aW9ucy5ydGw/LTE6MSxTKCksdD1uLmNvbnRhaW5lcixmdW5jdGlvbigpe3ZhciBuPVwiZGF0YS1rZWVuLXNsaWRlci1jbGlja2FibGVcIjtvKFwiW1wiLmNvbmNhdChuLFwiXTpub3QoW1wiKS5jb25jYXQobixcIj1mYWxzZV0pXCIpLHQpLm1hcCgoZnVuY3Rpb24obil7Qy5hZGQobixcImRyYWdzdGFydFwiLHMpLEMuYWRkKG4sXCJtb3VzZWRvd25cIixzKSxDLmFkZChuLFwidG91Y2hzdGFydFwiLHMpfSkpfSgpLEMuYWRkKHQsXCJkcmFnc3RhcnRcIiwoZnVuY3Rpb24obil7dShuKX0pKSxDLmFkZCh0LFwiY2xpY2tcIixPLHtjYXB0dXJlOiEwfSksQy5pbnB1dCh0LFwia3NEcmFnU3RhcnRcIix6KSxDLmlucHV0KHQsXCJrc0RyYWdcIixFKSxDLmlucHV0KHQsXCJrc0RyYWdFbmRcIixJKSxDLmlucHV0KHQsXCJtb3VzZWRvd25cIix6KSxDLmlucHV0KHQsXCJtb3VzZW1vdmVcIixFKSxDLmlucHV0KHQsXCJtb3VzZWxlYXZlXCIsSSksQy5pbnB1dCh0LFwibW91c2V1cFwiLEkpLEMuaW5wdXQodCxcInRvdWNoc3RhcnRcIix6LHtwYXNzaXZlOiEwfSksQy5pbnB1dCh0LFwidG91Y2htb3ZlXCIsRSx7cGFzc2l2ZTohMX0pLEMuaW5wdXQodCxcInRvdWNoZW5kXCIsSSksQy5pbnB1dCh0LFwidG91Y2hjYW5jZWxcIixJKSxDLmFkZCh3aW5kb3csXCJ3aGVlbFwiLChmdW5jdGlvbihuKXtmJiZ1KG4pfSkpO3ZhciByPVwiZGF0YS1rZWVuLXNsaWRlci1zY3JvbGxhYmxlXCI7byhcIltcIi5jb25jYXQocixcIl06bm90KFtcIikuY29uY2F0KHIsXCI9ZmFsc2VdKVwiKSxuLmNvbnRhaW5lcikubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ7Qy5pbnB1dChuLFwidG91Y2hzdGFydFwiLChmdW5jdGlvbihuKXt0PUQobiksdz0hMCx5PSEwfSkse3Bhc3NpdmU6ITB9KSxDLmlucHV0KG4sXCJ0b3VjaG1vdmVcIiwoZnVuY3Rpb24oaSl7dmFyIGU9TCgpLHI9ZT9uLnNjcm9sbEhlaWdodC1uLmNsaWVudEhlaWdodDpuLnNjcm9sbFdpZHRoLW4uY2xpZW50V2lkdGgsYT10LUQoaSksbz1lP24uc2Nyb2xsVG9wOm4uc2Nyb2xsTGVmdCxzPWUmJlwic2Nyb2xsXCI9PT1uLnN0eWxlLm92ZXJmbG93WXx8IWUmJlwic2Nyb2xsXCI9PT1uLnN0eWxlLm92ZXJmbG93WDtpZih0PUQoaSksKGE8MCYmbz4wfHxhPjAmJm88cikmJnkmJnMpcmV0dXJuIHc9ITA7eT0hMSx1KGkpLHc9ITF9KSksQy5pbnB1dChuLFwidG91Y2hlbmRcIiwoZnVuY3Rpb24oKXt3PSExfSkpfShuKX0pKX19bi5vbihcInVwZGF0ZWRcIixTKSxuLm9uKFwib3B0aW9uc0NoYW5nZWRcIixfKSxuLm9uKFwiY3JlYXRlZFwiLF8pLG4ub24oXCJkZXN0cm95ZWRcIixDLnB1cmdlKX1mdW5jdGlvbiB4KG4pe3ZhciB0LGksZT1udWxsO2Z1bmN0aW9uIHIodCxpLGUpe24uYW5pbWF0b3IuYWN0aXZlP28odCxpLGUpOnJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXR1cm4gbyh0LGksZSl9KSl9ZnVuY3Rpb24gYSgpe3IoITEsITEsaSl9ZnVuY3Rpb24gbyhpLHIsYSl7dmFyIG89MCx1PW4uc2l6ZSxkPW4udHJhY2suZGV0YWlscztpZihkJiZ0KXt2YXIgbD1kLnNsaWRlczt0LmZvckVhY2goKGZ1bmN0aW9uKG4sdCl7aWYoaSkhZSYmciYmcyhuLG51bGwsYSksYyhuLG51bGwsYSk7ZWxzZXtpZighbFt0XSlyZXR1cm47dmFyIGQ9bFt0XS5zaXplKnU7IWUmJnImJnMobixkLGEpLGMobixsW3RdLmRpc3RhbmNlKnUtbyxhKSxvKz1kfX0pKX19ZnVuY3Rpb24gdSh0KXtyZXR1cm5cInBlcmZvcm1hbmNlXCI9PT1uLm9wdGlvbnMucmVuZGVyTW9kZT9NYXRoLnJvdW5kKHQpOnR9ZnVuY3Rpb24gcyhuLHQsaSl7dmFyIGU9aT9cImhlaWdodFwiOlwid2lkdGhcIjtudWxsIT09dCYmKHQ9dSh0KStcInB4XCIpLG4uc3R5bGVbXCJtaW4tXCIrZV09dCxuLnN0eWxlW1wibWF4LVwiK2VdPXR9ZnVuY3Rpb24gYyhuLHQsaSl7aWYobnVsbCE9PXQpe3Q9dSh0KTt2YXIgZT1pP3Q6MDt0PVwidHJhbnNsYXRlM2QoXCIuY29uY2F0KGk/MDp0LFwicHgsIFwiKS5jb25jYXQoZSxcInB4LCAwKVwiKX1uLnN0eWxlLnRyYW5zZm9ybT10LG4uc3R5bGVbXCItd2Via2l0LXRyYW5zZm9ybVwiXT10fWZ1bmN0aW9uIGQoKXt0JiYobyghMCwhMCxpKSx0PW51bGwpLG4ub24oXCJkZXRhaWxzQ2hhbmdlZFwiLGEsITApfWZ1bmN0aW9uIGwoKXtyKCExLCEwLGkpfWZ1bmN0aW9uIGYoKXtkKCksaT1uLm9wdGlvbnMudmVydGljYWwsbi5vcHRpb25zLmRpc2FibGVkfHxcImN1c3RvbVwiPT09bi5vcHRpb25zLnJlbmRlck1vZGV8fChlPVwiYXV0b1wiPT09cChuLm9wdGlvbnMuc2xpZGVzLFwicGVyVmlld1wiLG51bGwpLG4ub24oXCJkZXRhaWxzQ2hhbmdlZFwiLGEpLCh0PW4uc2xpZGVzKS5sZW5ndGgmJmwoKSl9bi5vbihcImNyZWF0ZWRcIixmKSxuLm9uKFwib3B0aW9uc0NoYW5nZWRcIixmKSxuLm9uKFwiYmVmb3JlT3B0aW9uc0NoYW5nZWRcIiwoZnVuY3Rpb24oKXtkKCl9KSksbi5vbihcInVwZGF0ZWRcIixsKSxuLm9uKFwiZGVzdHJveWVkXCIsZCl9ZnVuY3Rpb24gayh0LGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcix1LHMsZCxsLHYsaD1jKCk7ZnVuY3Rpb24gbShuKXt2YXIgdDthKGUuY29udGFpbmVyLFwicmV2ZXJzZVwiLFwicnRsXCIhPT0odD1lLmNvbnRhaW5lcix3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLmdldFByb3BlcnR5VmFsdWUoXCJkaXJlY3Rpb25cIikpfHxuP251bGw6XCJcIiksYShlLmNvbnRhaW5lcixcInZcIixlLm9wdGlvbnMudmVydGljYWwmJiFuP1wiXCI6bnVsbCksYShlLmNvbnRhaW5lcixcImRpc2FibGVkXCIsZS5vcHRpb25zLmRpc2FibGVkJiYhbj9cIlwiOm51bGwpfWZ1bmN0aW9uIGcoKXtiKCkmJk0oKX1mdW5jdGlvbiBiKCl7dmFyIHQ9bnVsbDtpZihkLmZvckVhY2goKGZ1bmN0aW9uKG4pe24ubWF0Y2hlcyYmKHQ9bi5fX21lZGlhKX0pKSx0PT09cilyZXR1cm4hMTtyfHxlLmVtaXQoXCJiZWZvcmVPcHRpb25zQ2hhbmdlZFwiKSxyPXQ7dmFyIGk9dD9zLmJyZWFrcG9pbnRzW3RdOnM7cmV0dXJuIGUub3B0aW9ucz1uKG4oe30scyksaSksbSgpLEkoKSxBKCksQygpLCEwfWZ1bmN0aW9uIHgobil7dmFyIHQ9ZihuKTtyZXR1cm4oZS5vcHRpb25zLnZlcnRpY2FsP3QuaGVpZ2h0OnQud2lkdGgpL2Uuc2l6ZXx8MX1mdW5jdGlvbiBrKCl7cmV0dXJuIGUub3B0aW9ucy50cmFja0NvbmZpZy5sZW5ndGh9ZnVuY3Rpb24geSh0KXtmb3IodmFyIGEgaW4gcj0hMSxzPW4obih7fSxpKSx0KSxoLnB1cmdlKCksdT1lLnNpemUsZD1bXSxzLmJyZWFrcG9pbnRzfHxbXSl7dmFyIG89d2luZG93Lm1hdGNoTWVkaWEoYSk7by5fX21lZGlhPWEsZC5wdXNoKG8pLGguYWRkKG8sXCJjaGFuZ2VcIixnKX1oLmFkZCh3aW5kb3csXCJvcmllbnRhdGlvbmNoYW5nZVwiLHopLGguYWRkKHdpbmRvdyxcInJlc2l6ZVwiLEUpLGIoKX1mdW5jdGlvbiB3KG4pe2UuYW5pbWF0b3Iuc3RvcCgpO3ZhciB0PWUudHJhY2suZGV0YWlscztlLnRyYWNrLmluaXQobnVsbCE9bj9uOnQ/dC5hYnM6MCl9ZnVuY3Rpb24gTShuKXt3KG4pLGUuZW1pdChcIm9wdGlvbnNDaGFuZ2VkXCIpfWZ1bmN0aW9uIFQobix0KXtpZihuKXJldHVybiB5KG4pLHZvaWQgTSh0KTtJKCksQSgpO3ZhciBpPWsoKTtDKCksaygpIT09aT9NKHQpOncodCksZS5lbWl0KFwidXBkYXRlZFwiKX1mdW5jdGlvbiBDKCl7dmFyIG49ZS5vcHRpb25zLnNsaWRlcztpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiBlLm9wdGlvbnMudHJhY2tDb25maWc9bihlLnNpemUsZS5zbGlkZXMpO2Zvcih2YXIgdD1lLnNsaWRlcyxpPXQubGVuZ3RoLHI9XCJudW1iZXJcIj09dHlwZW9mIG4/bjpwKG4sXCJudW1iZXJcIixpLCEwKSxhPVtdLG89cChuLFwicGVyVmlld1wiLDEsITApLHU9cChuLFwic3BhY2luZ1wiLDAsITApL2Uuc2l6ZXx8MCxzPVwiYXV0b1wiPT09bz91OnUvbyxjPXAobixcIm9yaWdpblwiLFwiYXV0b1wiKSxkPTAsbD0wO2w8cjtsKyspe3ZhciBmPVwiYXV0b1wiPT09bz94KHRbbF0pOjEvby11K3Msdj1cImNlbnRlclwiPT09Yz8uNS1mLzI6XCJhdXRvXCI9PT1jPzA6YzthLnB1c2goe29yaWdpbjp2LHNpemU6ZixzcGFjaW5nOnV9KSxkKz1mfWlmKGQrPXUqKHItMSksXCJhdXRvXCI9PT1jJiYhZS5vcHRpb25zLmxvb3AmJjEhPT1vKXt2YXIgaD0wO2EubWFwKChmdW5jdGlvbihuKXt2YXIgdD1kLWg7cmV0dXJuIGgrPW4uc2l6ZSt1LHQ+PTF8fChuLm9yaWdpbj0xLXQtKGQ+MT8wOjEtZCkpLG59KSl9ZS5vcHRpb25zLnRyYWNrQ29uZmlnPWF9ZnVuY3Rpb24gRSgpe0koKTt2YXIgbj1lLnNpemU7ZS5vcHRpb25zLmRpc2FibGVkfHxuPT09dXx8KHU9bixUKCkpfWZ1bmN0aW9uIHooKXtFKCksc2V0VGltZW91dChFLDUwMCksc2V0VGltZW91dChFLDJlMyl9ZnVuY3Rpb24gSSgpe3ZhciBuPWYoZS5jb250YWluZXIpO2Uuc2l6ZT0oZS5vcHRpb25zLnZlcnRpY2FsP24uaGVpZ2h0Om4ud2lkdGgpfHwxfWZ1bmN0aW9uIEEoKXtlLnNsaWRlcz1vKGUub3B0aW9ucy5zZWxlY3RvcixlLmNvbnRhaW5lcil9ZS5jb250YWluZXI9KHY9byh0LGx8fGRvY3VtZW50KSkubGVuZ3RoP3ZbMF06bnVsbCxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtoLnB1cmdlKCksZS5lbWl0KFwiZGVzdHJveWVkXCIpLG0oITApfSxlLnByZXY9ZnVuY3Rpb24oKXtlLm1vdmVUb0lkeChlLnRyYWNrLmRldGFpbHMuYWJzLTEsITApfSxlLm5leHQ9ZnVuY3Rpb24oKXtlLm1vdmVUb0lkeChlLnRyYWNrLmRldGFpbHMuYWJzKzEsITApfSxlLnVwZGF0ZT1ULHkoZS5vcHRpb25zKX19dmFyIHk9ZnVuY3Rpb24obixpLGUpe3RyeXtyZXR1cm4gZnVuY3Rpb24obix0KXt2YXIgaSxlPXt9O3JldHVybiBpPXtlbWl0OmZ1bmN0aW9uKG4pe2Vbbl0mJmVbbl0uZm9yRWFjaCgoZnVuY3Rpb24obil7bihpKX0pKTt2YXIgdD1pLm9wdGlvbnMmJmkub3B0aW9uc1tuXTt0JiZ0KGkpfSxtb3ZlVG9JZHg6ZnVuY3Rpb24obix0LGUpe3ZhciByPWkudHJhY2suaWR4VG9EaXN0KG4sdCk7aWYocil7dmFyIGE9aS5vcHRpb25zLmRlZmF1bHRBbmltYXRpb247aS5hbmltYXRvci5zdGFydChbe2Rpc3RhbmNlOnIsZHVyYXRpb246cChlfHxhLFwiZHVyYXRpb25cIiw1MDApLGVhc2luZzpwKGV8fGEsXCJlYXNpbmdcIiwoZnVuY3Rpb24obil7cmV0dXJuIDErLS1uKm4qbipuKm59KSl9XSl9fSxvbjpmdW5jdGlvbihuLHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLGVbbl18fChlW25dPVtdKTt2YXIgcj1lW25dLmluZGV4T2YodCk7cj4tMT9pJiZkZWxldGUgZVtuXVtyXTppfHxlW25dLnB1c2godCl9LG9wdGlvbnM6bn0sZnVuY3Rpb24oKXtpZihpLnRyYWNrPW0oaSksaS5hbmltYXRvcj1oKGkpLHQpZm9yKHZhciBuPTAsZT10O248ZS5sZW5ndGg7bisrKSgwLGVbbl0pKGkpO2kudHJhY2suaW5pdChpLm9wdGlvbnMuaW5pdGlhbHx8MCksaS5lbWl0KFwiY3JlYXRlZFwiKX0oKSxpfShpLHQoW2sobix7ZHJhZzohMCxtb2RlOlwic25hcFwiLHJlbmRlck1vZGU6XCJwcmVjaXNpb25cIixydWJiZXJiYW5kOiEwLHNlbGVjdG9yOlwiLmtlZW4tc2xpZGVyX19zbGlkZVwifSkseCxiLGddLGV8fFtdLCEwKSl9Y2F0Y2gobil7Y29uc29sZS5lcnJvcihuKX19O2V4cG9ydHt5IGFzIGRlZmF1bHR9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IEtlZW5TbGlkZXIgZnJvbSBcImtlZW4tc2xpZGVyXCI7XG5cbmNsYXNzIEJ1dHRvblNsaWRlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5zbGlkZXNDb250YWluZXIgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIua2Vlbi1zbGlkZXJcIik7XG4gICAgdGhpcy5zbGlkZXMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIua2Vlbi1zbGlkZXJfX3NsaWRlXCIpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGlkZXItb3B0aW9uc1wiKSk7XG4gICAgY29uc3QgYnV0dG9uSWQgPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYnV0dG9uLWlkXCIpO1xuXG4gICAgY29uc3QgdXNlSW5kZXhCdXR0b25zID0gdGhpcy5zbGlkZXNDb250YWluZXIuZ2V0QXR0cmlidXRlKFxuICAgICAgXCJkYXRhLXVzZS1pbmRleC1idG5zXCJcbiAgICApO1xuXG4gICAgLy8gZ2V0IGxlZnQsIHJpZ2h0IG5hdiBidXR0b25zIGFuZCBhZGQgY2xpY2sgZXZlbnRzIHRvIHRoZW1cbiAgICBjb25zdCBuYXZCdXR0b25zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1idG5cIik7XG4gICAgaWYgKG5hdkJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgbmF2QnV0dG9uc1swXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gc2xpZGVyLnByZXYoKSk7XG4gICAgICBuYXZCdXR0b25zWzFdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBzbGlkZXIubmV4dCgpKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgZG90cyBhbmQgYWRkIGNsaWNrIGV2ZW50cyB0byB0aGVtXG4gICAgbGV0IGRvdHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZG90XCIpO1xuXG4gICAgY29uc3QgaGFuZGxlRG90Q2xpY2sgPSAoaW5kZXgpID0+ICgpID0+IHtcbiAgICAgIHNsaWRlci5tb3ZlVG9JZHgoaW5kZXgsIHRydWUpO1xuICAgICAgZG90cy5mb3JFYWNoKChkb3QpID0+IGRvdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgICAgIGRvdHNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgfTtcblxuICAgIGlmIChkb3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGRvdHMuZm9yRWFjaCgoZG90LCBpbmRleCkgPT4ge1xuICAgICAgICBkb3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURvdENsaWNrKGluZGV4KSk7XG4gICAgICAgIGRvdHNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGdldCBidXR0b25zIHRoYXQgdXBkYXRlIHNsaWRlciBzbGlkZXMgYW5kIGFkZCBldmVudHMgdG8gdGhlbVxuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzbGlkZXIudXBkYXRlKG9wdGlvbnMsIDApLCAwKTtcbiAgICAgIGxldCBkb3RzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmRvdFwiKTtcbiAgICAgIGlmIChkb3RzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgZG90cyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcIi5kb3RcIik7XG4gICAgICBkb3RzLmZvckVhY2goKGRvdCwgaW5kZXgpID0+IHtcbiAgICAgICAgZG90LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVEb3RDbGljayhpbmRleCkpO1xuICAgICAgICBkb3RzWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgbGV0IGJ1dHRvbnM7XG4gICAgaWYgKGJ1dHRvbklkKSB7XG4gICAgICBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7YnV0dG9uSWR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbnMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnV0dG9uX190YWJcIik7XG4gICAgfVxuICAgIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrKSk7XG4gICAgYnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgaGFuZGxlQ2xpY2spKTtcblxuICAgIGlmICh1c2VJbmRleEJ1dHRvbnMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAvLyBnZXQgaW5kZXggYnV0dG9ucyBhbmQgbW92ZSB0aGUgYWN0aXZlIHNsaWRlIHRvIHRoYXQgaW5kZXhcbiAgICAgIGNvbnN0IGhhbmRsZUluZGV4QnV0dG9uQ2xpY2sgPSAoaW5kZXgpID0+ICgpID0+IHtcbiAgICAgICAgc2xpZGVyLm1vdmVUb0lkeChpbmRleCwgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbmRleEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmluZGV4LWJ0blwiKTtcblxuICAgICAgaWYgKGluZGV4QnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGluZGV4QnV0dG9ucy5mb3JFYWNoKChidXR0b24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVJbmRleEJ1dHRvbkNsaWNrKGluZGV4KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGdldCBzbGlkZSBjb3VudCBlbGVtZW50cyBhbmQgdXBkYXRlIHRoZW0gb24gZXZlbnRzXG4gICAgY29uc3Qgc2xpZGVDdXJyZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlLWN1cnJlbnRcIik7XG4gICAgY29uc3Qgc2xpZGVUb3RhbCA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5zbGlkZS10b3RhbFwiKTtcblxuICAgIGNvbnN0IHNsaWRlciA9IG5ldyBLZWVuU2xpZGVyKHRoaXMuc2xpZGVzQ29udGFpbmVyLCBvcHRpb25zKTtcblxuICAgIHNsaWRlci5vbihcInVwZGF0ZWRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcbiAgICAgICAgaWYgKHNsaWRlQ3VycmVudCkge1xuICAgICAgICAgIHNsaWRlQ3VycmVudC50ZXh0Q29udGVudCA9IHNsaWRlci50cmFjay5kZXRhaWxzLnJlbCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNsaWRlVG90YWwpIHtcbiAgICAgICAgICBzbGlkZVRvdGFsLnRleHRDb250ZW50ID0gc2xpZGVyLnRyYWNrLmRldGFpbHMuc2xpZGVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtYWN0aXZlLXNsaWRlXCIpKTtcbiAgICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgICAgc2xpZGVyLm1vdmVUb0lkeChpbmRleCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIHVwZGF0ZSBkb3QgY2xhc3NlcyBvbiBldmVudHNcbiAgICBzbGlkZXIub24oXCJvcHRpb25zQ2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICBkb3RzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmRvdFwiKTtcbiAgICAgIGlmIChkb3RzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgZG90cy5mb3JFYWNoKChkb3QsIGluZGV4KSA9PiB7XG4gICAgICAgIGRvdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRG90Q2xpY2soaW5kZXgpKTtcbiAgICAgICAgZG90c1swXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc2xpZGVyLm9uKFwic2xpZGVDaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgIGlmIChzbGlkZUN1cnJlbnQpIHtcbiAgICAgICAgc2xpZGVDdXJyZW50LnRleHRDb250ZW50ID0gc2xpZGVyLnRyYWNrLmRldGFpbHMucmVsICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChzbGlkZVRvdGFsKSB7XG4gICAgICAgIHNsaWRlVG90YWwudGV4dENvbnRlbnQgPSBzbGlkZXIudHJhY2suZGV0YWlscy5zbGlkZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGRvdHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICBkb3RzLmZvckVhY2goKGRvdCkgPT4gZG90LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xuICAgICAgZG90c1tzbGlkZXIudHJhY2suZGV0YWlscy5yZWxdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChzbGlkZXIpIHtcbiAgICAgICAgc2xpZGVyLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG59XG5cbi8qXG4gIFJlZ2lzdGVyIHRoZSBlbGVtZW50LlxuICBTZXQgdGltZW91dCBhbGxvd3MgdXMgdG8gZ3JhYiB0aGUgZHluYW1pYyBjbGFzc2VzIGFkZGVkIGJ5IEFscGluZVxuICBhZnRlciB0aGV5IGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgRE9NLlxuKi9cbnNldFRpbWVvdXQoKCkgPT4ge1xuICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldChcImJ1dHRvbi1zbGlkZXJcIikpXG4gICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiYnV0dG9uLXNsaWRlclwiLCBCdXR0b25TbGlkZXIpO1xufSwgMCk7XG4iXSwibmFtZXMiOlsiS2VlblNsaWRlciIsIkJ1dHRvblNsaWRlciIsIkhUTUxFbGVtZW50IiwiY29uc3RydWN0b3IiLCJpbml0Iiwic2xpZGVzQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsInNsaWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvcHRpb25zIiwiSlNPTiIsInBhcnNlIiwiZ2V0QXR0cmlidXRlIiwiYnV0dG9uSWQiLCJ1c2VJbmRleEJ1dHRvbnMiLCJuYXZCdXR0b25zIiwibGVuZ3RoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWRlciIsInByZXYiLCJuZXh0IiwiZG90cyIsImhhbmRsZURvdENsaWNrIiwiaW5kZXgiLCJtb3ZlVG9JZHgiLCJmb3JFYWNoIiwiZG90IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwiaGFuZGxlQ2xpY2siLCJzZXRUaW1lb3V0IiwidXBkYXRlIiwiYnV0dG9ucyIsImRvY3VtZW50IiwiYnV0dG9uIiwiaGFuZGxlSW5kZXhCdXR0b25DbGljayIsImluZGV4QnV0dG9ucyIsInNsaWRlQ3VycmVudCIsInNsaWRlVG90YWwiLCJvbiIsInNsaWRlIiwidGV4dENvbnRlbnQiLCJ0cmFjayIsImRldGFpbHMiLCJyZWwiLCJwYXJzZUludCIsImN1c3RvbUVsZW1lbnRzIiwiZ2V0IiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==